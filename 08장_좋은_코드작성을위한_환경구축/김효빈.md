# 8장 좋은 리액트 코드 작성을 위한 환경 구축하기

### 8.1 ESLinst를 활용한 정적 코드 분석
자바스크립트 생태계에서 가장 많이 사용되는 정적 코드 분석 도구는 바로 ESLint

ESLint는 어떻게 코드를 분석할까?
자바스크립트 코드를 문자열로 읽는다.
자바스크립트 코드를 분섣할 수 있는 파서로 코드를 구조화한다.
2번에서 구조화한 트리를 ASt라 하며 이 구조화된 트리를 기준으로 각종 규칙과 대조한다.
규칙과 대조했을 때 이를 위반한 코드를 알리거나 수정한다.

자바스크립트를 분석하는 파서에는 여러 가지가 있는데 ESLint는 기본값으로 espree 사용

### 8.1.4 주의할 점
ESLint는 코드의 잠재적인 문제가 될 수 있는 부분을 분석해준다면 Prettier는 포매팅과 관련된 작업, 즉 줄바꿈, 들여쓰기, 작은따옴표와 큰따옴표 등을 담당한다.
ESLint에서도 Prettier에서 처리하는 작업을 할 수 있어서 서로 충돌하는 규칙 때문에 에러가 생길수도 있음

8.2 리액트 팀이 권장하는 리액트 테스트 라이브러리

### 8.2.1 React Testing Library란?
DOM Testing Library를 기반으로 만들어진 테스팅 라이브러리로 리액트를 기반으로 한 테스트를 수행하기 위해 만들어졌음
DOM Testing Library는 jsdom을 기반으로 하고 있음 jsdom이란 순수하게 자바스크립트로 작성된 라이브러리로 HTML이 없는 자바스크립트만 존재하는 환경, 예를 들어 Node.js 같은 환경에서 HTML과 DOM을 사용할 수 있도록 해주는 라이브러리

리액트 테스팅 라이브러리를 활용하면 실제로 리액트 컴포넌트를 렌더링하지 않고도 즉 브라우저를 직접 실행해 눈으로 확인하지 않아도 리액트 컴포넌트가 원하는 대로 렌더링되고 있는지 확인할 수 있음

### 8.2.2 자바스크립트 테스트의 기초
테스트 코드란 내가 작성한 코드가 내가 코드를 작성했떤 당시의 의도와 목적에 맞는지 확인하는 코드를 의미

Node.js는 assert라는 모듈을 기본적으로 제공하며 assert라는 이름에서 알 수 있듯이 테스트 코드가 예상대로 작동한다고 '주장'하는 코드를 작성하면 이 코드의 성공 여부에 따라 테스트 통과 또는 실패를 반환함
이처럼 테스트 결과를 확인할 수 있도록 도와주는 라이브러리를 어설션(assertion) 라이브러리라고 함
테스팅 프레임워크들은 어설션을 기반으로 테스트를 수행하며 여기에 추가로 테스트 코드 작성자에게 도움이 될 만한 정보를 알려주는 역할도 함께 수행함
자바스크립트에서 유명한 테스팅 프레임워크로는 Jest, Mocha, Karma, Jasmine 등이 있음
Jest의 경우 자체적으로 제작한 expect 패키지를 사용해 어설션을 수행

### 8.2.3 리액트 컴포넌트 테스트 코드 작성하기
- 컴포넌트를 렌더링한다.
- 필요하다면 컴포넌트에서 특정 액션을 수행한다.
- 컴포넌트 렌더링과 2번의 액션을 통해 기대하는 결과와 실제 결과를 비교한다.

### 8.2.5 테스트를 작성하기에 앞서 고려해야 할 점
애플리케이션에서 가장 취약하거나 중요한 부분을 파악하는 것

### 8.2.3 그 밖에 해볼 만한 여러 가지 테스트
- 유닛 테스트(Unit Test) : 각각의 코드나 컴포넌트가 독립적으로 분리된 환경에서 의도된 대로 정확히 작동하는ㅈ 검증하는 테스트
- 통합 테스트(Integration Test) : 유닛 테스트를 통과한 여러 컴포넌트가 묶여서 하나의 기능으로 정상적으로 작동하는지 확인하는 테스트
- 엔드 투 엔드(End to End Test) : 흔히 E2E 테스트라 하며 실제 사용자처럼 작동하는 로봇을 활용해 애플리케이션의 전체적인 기능을 확인하는 테스트


